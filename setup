#!/bin/sh


# Dependencies
sudo xbps-install -Su
sudo xbps-install -S font-awesome 
sudo xbps-install -S nerd-fonts 
sudo xbps-install -S neovim 
sudo xbps-install -S tmux 
sudo xbps-install -S kitty 
sudo xbps-install -S zsh  
sudo xbps-install -S zsh-completions 
sudo xbps-install -S zsh-autosuggestion 
sudo xbps-install -S zsh-syntax-highlighting 
sudo xbps-install -S redshift 
sudo xbps-install -S curl 
sudo xbps-install -S base-devel 
sudo xbps-install -S xorg 
sudo xbps-install -S feh 
sudo xbps-install -S libX11-devel 
sudo xbps-install -S libXft-devel 
sudo xbps-install -S libXinerama-devel 
sudo xbps-install -S freetype-devel 
sudo xbps-install -S fontconfig-devel

mkdir $HOME/.config
config="$HOME/.config"
dotfiles="$HOME/dotfiles"

# ZSH
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
git clone https://github.com/reobin/typewritten.git $HOME/.oh-my-zsh/themes/typewritten
ln -s "$ZSH_CUSTOM/themes/typewritten/typewritten.zsh-theme" "$ZSH_CUSTOM/themes/typewritten.zsh-theme"
ln -s "$ZSH_CUSTOM/themes/typewritten/async.zsh" "$ZSH_CUSTOM/themes/async"
rm $HOME/.zshrc
ln -s "$dotfiles/zshrc" "$HOME/.zshrc"

# removing bash
rm $HOME/.zshrc
rm $HOME/.bash_history
rm $HOME/.bash_logout
rm $HOME/.bash_profile
rm $HOME/.bashrc

# tmux
ln -s "$dotfiles/tmux" "$config/tmux"
git clone https://github.com/tmux-plugins/tpm $config/tmux/plugins/tpm

# neovim
git clone --depth 1 https://github.com/wbthomason/packer.nvim\
 ~/.local/share/nvim/site/pack/packer/start/packer.nvim
ln -s "$dotfiles/nvim" "$config/nvim"
nvim --headless -c 'autocmd User PackerComplete quitall' -c 'PackerSync'

ln -s "$dotfiles/picom" "$config/picom"
ln -s "$dotfiles/kitty" "$config/kitty"
ln -s "$dotfiles/redshift" "$config/redshift"
ln -s "$dotfiles/xinitrc" "$HOME/.xinitrc"

cd dwm
sudo make install

cd ../dwmblocks
sudo make install

